<div class="comments">
  <h3>Comments</h3>
  <p *ngIf="!openedTask; else comments">Please select a task.</p>

  <ng-template #comments>
    <h4>Task: {{ openedTask.name }}</h4>
    <hr>
    <button (click)="addCommentOpened = !addCommentOpened">New comment</button>

    <form *ngIf="addCommentOpened">
      <hr>
      <label for="commentText">Add comment</label><br>
      <textarea name="commentText" id="commentText"
                cols="30" rows="5" placeholder="Text here..."
                [(ngModel)]="commentText">
      </textarea><br>
      <button type="button" (click)="addNewComment()">Post</button>
      <button type="button" (click)=closeForm()>Cancel</button>
      <hr>
    </form>

    <div *ngFor="let comment of openedTask.comments">
      <p>{{ comment.text }}</p>
      <p>{{ comment.createdAt | date }}</p>
    </div>
  </ng-template>
</div>
